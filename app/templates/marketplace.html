{% extends "base.html" %}

{% block title %}Marketplace | ChainPort{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/marketplace.css') }}">

<div class="market-simple">
    <header>
        <h2>Marketplace — Demo View</h2>
        <p class="subtitle">A quick preview of listings</p>
    </header>

    <div class="products-grid">
        {% for product in products %}
        <div class="card">
            <div class="card-image">
                <img src="{{ product.image_url }}" alt="{{ product.title }}" loading="lazy" onerror="this.src='{{ url_for('static', filename='images/product_placeholder.svg') }}'">
            </div>
            <div class="card-body">
                <h3>{{ product.title }}</h3>
                <p class="seller">{{ product.seller.company_name }}</p>
                <p class="price">₹{{ "%.2f"|format(product.price_per_unit) }} <small>/ {{ product.unit }}</small></p>
                <p class="category">Category: {{ product.category }}</p>
                <p>
                    <a class="btn" href="{{ url_for('main.product_detail', product_id=product.id) }}">View</a>
                </p>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

{% endblock %}
